---
title: "Penggunaan API REST Langsung"
description: "Buat permintaan HTTP langsung ke Gateway AI Neosantara menggunakan cURL, Fetch, atau klien HTTP lainnya."
---

Jika Kamu lebih suka menggunakan API Gateway AI Neosantara secara langsung tanpa pustaka klien OpenAI, Kamu dapat membuat permintaan HTTP menggunakan klien HTTP standar apa pun. Ini berguna untuk lingkungan di mana menginstal SDK lengkap tidak ideal.

### Daftar model

Ambil daftar semua model yang tersedia beserta kemampuannya.

<CodeGroup>

```bash cURL
curl -X GET "https://api.neosantara.xyz/v1/models" \
  -H "Authorization: Bearer $NAI_API_KEY" \
  -H "Content-Type: application/json"
```

```javascript JavaScript
const response = await fetch('https://api.neosantara.xyz/v1/models', {
  method: 'GET',
  headers: {
    Authorization: `Bearer ${process.env.NAI_API_KEY}`,
    'Content-Type': 'application/json',
  },
});
 
const models = await response.json();
console.log(models);
```

</CodeGroup>

---

### Chat completion dasar

Buat permintaan chat completion standar.

<CodeGroup>

```bash cURL
curl -X POST "https://api.neosantara.xyz/v1/chat/completions" \
  -H "Authorization: Bearer $NAI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{ "model": "claude-4.5-sonnet", "messages": [ { "role": "user", "content": "Tulis satu kalimat cerita sebelum tidur tentang unicorn." } ], "stream": false }'
```

```javascript JavaScript
const response = await fetch(
  'https://api.neosantara.xyz/v1/chat/completions',
  {
    method: 'POST',
    headers: {
      Authorization: `Bearer ${process.env.NAI_API_KEY}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      model: 'claude-4.5-sonnet',
      messages: [
        {
          role: 'user',
          content: 'Tulis satu kalimat cerita sebelum tidur tentang unicorn.',
        },
      ],
      stream: false,
    }),
  },
);
 
const result = await response.json();
console.log(result);
```

</CodeGroup>

---

### Streaming chat completion

Terima token secara waktu nyata saat dihasilkan menggunakan Server-Sent Events (SSE).

<CodeGroup>

```bash cURL
curl -X POST "https://api.neosantara.xyz/v1/chat/completions" \
  -H "Authorization: Bearer $NAI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{ "model": "claude-4.5-sonnet", "messages": [ { "role": "user", "content": "Tulis satu kalimat cerita sebelum tidur tentang unicorn." } ], "stream": true }' \
  --no-buffer
```

```javascript JavaScript
const response = await fetch(
  'https://api.neosantara.xyz/v1/chat/completions',
  {
    method: 'POST',
    headers: {
      Authorization: `Bearer ${process.env.NAI_API_KEY}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      model: 'claude-4.5-sonnet',
      messages: [
        {
          role: 'user',
          content: 'Tulis satu kalimat cerita sebelum tidur tentang unicorn.',
        },
      ],
      stream: true,
    }),
  },
);
 
const reader = response.body.getReader();
const decoder = new TextDecoder();
 
while (true) {
  const { done, value } = await reader.read();
  if (done) break;
 
  const chunk = decoder.decode(value);
  const lines = chunk.split('\n');
 
  for (const line of lines) {
    if (line.startsWith('data: ')) {
      const data = line.slice(6);
      if (data === '[DONE]') {
        console.log('Aliran selesai');
        break;
      } else if (data.trim()) {
        const parsed = JSON.parse(data);
        const content = parsed.choices?.[0]?.delta?.content;
        if (content) {
          process.stdout.write(content);
        }
      }
    }
  }
}
```

</CodeGroup>

---

### Analisis gambar

Kirim gambar untuk diproses menggunakan model multimodal.

<CodeGroup>

```bash cURL
# Pertama, konversi gambar Kamu ke base64
IMAGE_BASE64=$(base64 -w 0 ./gambar.png)
 
curl -X POST "https://api.neosantara.xyz/v1/chat/completions" \
  -H "Authorization: Bearer $NAI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{ "model": "claude-4.5-sonnet", "messages": [ { "role": "user", "content": [ { "type": "text", "text": "Jelaskan gambar ini secara detail." }, { "type": "image_url", "image_url": { "url": "data:image/png;base64,'"$IMAGE_BASE64"'" } } ] } ], "stream": false }'
```

```javascript JavaScript
import fs from 'node:fs';
 
const imageBuffer = fs.readFileSync('./gambar.png');
const imageBase64 = imageBuffer.toString('base64');
 
const response = await fetch(
  'https://api.neosantara.xyz/v1/chat/completions',
  {
    method: 'POST',
    headers: {
      Authorization: `Bearer ${process.env.NAI_API_KEY}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      model: 'claude-4.5-sonnet',
      messages: [
        {
          role: 'user',
          content: [
            { type: 'text', text: 'Jelaskan gambar ini secara detail.' },
            {
              type: 'image_url',
              image_url: {
                url: `data:image/png;base64,${imageBase64}`
              },
            },
          ],
        },
      ],
      stream: false,
    }),
  },
);
 
const result = await response.json();
console.log(result);
```

</CodeGroup>

---

### Panggilan tool

Berinteraksi dengan fungsi eksternal dengan menyediakan definisi tool.

<CodeGroup>

```bash cURL
curl -X POST "https://api.neosantara.xyz/v1/chat/completions" \
  -H "Authorization: Bearer $NAI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{ "model": "claude-4.5-sonnet", "messages": [ { "role": "user", "content": "Bagaimana cuaca di Jakarta?" } ], "tools": [ { "type": "function", "function": { "name": "get_weather", "description": "Dapatkan cuaca saat ini", "parameters": { "type": "object", "properties": { "location": { "type": "string" } }, "required": ["location"] } } } ], "tool_choice": "auto" }'
```

```javascript JavaScript
const response = await fetch(
  'https://api.neosantara.xyz/v1/chat/completions',
  {
    method: 'POST',
    headers: {
      Authorization: `Bearer ${process.env.NAI_API_KEY}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      model: 'claude-4.5-sonnet',
      messages: [{ role: 'user', content: 'Bagaimana cuaca di Jakarta?' }],
      tools: [
        {
          type: 'function',
          function: {
            name: 'get_weather',
            parameters: {
              type: 'object',
              properties: { location: { type: 'string' } }
            }
          },
        },
      ],
      tool_choice: 'auto'
    }),
  },
);
 
const result = await response.json();
console.log(result);
```

</CodeGroup>
