---
title: "Streaming"
description: "Pelajari cara menggunakan Server-Sent Events (SSE) untuk mendapatkan pembaruan real-time dari Responses API."
---

# Streaming

[Responses API](/id/sdk/responses-api) mendukung streaming, memungkinkan Kamu menerima token saat dihasilkan tanpa harus menunggu seluruh penyelesaian.

Untuk mengaktifkan streaming, atur **`stream: true`** dalam body permintaan Kamu.

### [Contoh Implementasi](#example)

```typescript stream.ts
const response = await fetch('https://api.neosantara.xyz/v1/responses', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${apiKey}`,
  },
  body: JSON.stringify({
    model: 'grok-4.1-fast-non-reasoning',
    input: 'Tulis puisi tentang koding.',
    stream: true,
  }),
});
 
const reader = response.body.getReader();
const decoder = new TextDecoder('utf-8');
let buffer = '';
 
while (true) {
  const { done, value } = await reader.read();
  if (done) break;
 
  // Gunakan { stream: true } agar karakter multi-byte yang terpotong didekode dengan benar
  buffer += decoder.decode(value, { stream: true });
  const lines = buffer.split('\n');
 
  // Simpan baris terakhir yang mungkin belum lengkap ke dalam buffer
  buffer = lines.pop() || '';
 
  for (const line of lines) {
    processLine(line);
  }
}
 
// Flush sisa byte dan proses baris terakhir jika ada
buffer += decoder.decode();
if (buffer) {
  processLine(buffer);
}

function processLine(line) {
  if (line.startsWith('data:')) {
    const data = line.substring(5).trim();
    if (data === '[DONE]') return;
    
    try {
      const event = JSON.parse(data);
      if (event.type === 'response.output_text.delta') {
        process.stdout.write(event.delta);
      }
    } catch (e) {
      // Abaikan JSON yang tidak valid
    }
  }
}
```

```