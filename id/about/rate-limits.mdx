---
title: 'Batas Penggunaan'
description: '> Pelajari tentang Batas Penggunaan Neosantara'
---

Neosantara AI menerapkan **Sistem Batas Penggunaan Hibrida** yang menggabungkan **Kuota Token** tradisional dengan model **Pay-As-You-Go** yang fleksibel. Ini memastikan penggunaan yang adil sambil memungkinkan layanan tanpa gangguan bagi pengguna yang perlu meningkatkan skala di luar batas paket mereka.

---

## Cara Kerjanya

1.  **Kuota Utama:** Anda menggunakan token gratis yang termasuk dalam paket langganan Anda (Kuota Harian dan Bulanan).
2.  **Cadangan Pay-As-You-Go:** Jika Anda menghabiskan kuota harian atau bulanan, sistem secara otomatis memeriksa **Saldo Kredit** Anda. Jika Anda memiliki dana yang cukup, Anda dapat terus menggunakan API dengan basis berbayar per permintaan.
3.  **Pengalihan Mode Otomatis:** Jika Anda melebihi **Batas Token Bulanan**, akun Anda secara otomatis dialihkan ke **Mode Pay-As-You-Go** secara permanen untuk mencegah gangguan layanan. Kami memberikan bonus satu kali sebesar **Rp 10.000** saat pengalihan ini agar Anda dapat langsung memulai.

---

## Dimensi Batas Penggunaan

Kami menerapkan batas di lima dimensi utama:

*   **`Permintaan per menit (RPM)`**: Batas lonjakan jangka pendek.
*   **`Token per menit (TPM)`**: Kontrol kemacetan jangka pendek.
*   **`Permintaan per hari (RPD)`**: Pedoman penggunaan wajar umum.
*   **`Token per hari (TPD)`**: Kuota harian. Melebihi ini memicu Pay-As-You-Go untuk sisa hari tersebut.
*   **`Batas Token Bulanan`**: Batas keras untuk paket. Melebihi ini memicu **Pengalihan Mode Otomatis**.

### Batas API Key (Standar)

Batas untuk penggunaan API Key standar (Integrasi Sisi Server/Aplikasi):

| Tingkatan | RPM | TPM | Token Harian (TPD) | Batas Token Bulanan |
| :--- | :-- | :-- | :----------------- | :------------------ |
| Free | 3 | 5,000 | 3,000 | 10,000 |
| Basic | 50 | 20,000 | 10,000 | 66,667 |
| Standard | 1,000 | 100,000 | 40,000 | 400,000 |
| Pro | 2,000 | 200,000 | 100,000 | 1,000,000 |
| Enterprise | 4,000 | 500,000 | Custom | Custom |

### Batas CLI (Device Flow)

Batas khusus untuk pengguna yang melakukan autentikasi melalui Neosantara CLI:

| Tingkatan | Token Harian (TPD) | Batas Token Bulanan |
| :--- | :----------------- | :------------------ |
| Free | 10,000 | 30,000 |
| Basic | 15,000 | 100,000 |
| Standard | 30,000 | 300,000 |
| Pro | 100,000 | 1,000,000 |
| Enterprise | Unlimited | Unlimited |

---

## Mode Pay-As-You-Go

Saat beroperasi dalam mode **Pay-As-You-Go** (baik karena Anda melebihi kuota atau dialihkan secara permanen):

1.  **Estimasi Biaya:** Untuk setiap permintaan, sistem memperkirakan biaya berdasarkan harga model dan token input/output.
2.  **Reservasi:** Jumlah perkiraan dipesan sementara dari saldo Anda.
3.  **Penyelesaian:** Setelah permintaan selesai, biaya sebenarnya dipotong (atau dikembalikan jika permintaan gagal).

Jika saldo Anda tidak mencukupi (kurang dari perkiraan biaya atau batas minimum yang diperlukan), Anda akan menerima kesalahan `402 Payment Required`.

---

## Header Respons

Kami menyediakan header HTTP standar untuk membantu Anda melacak penggunaan Anda:

*   `X-RateLimit-Limit`: Total batas token bulanan Anda.
*   `X-RateLimit-Remaining`: Token tersisa Anda untuk bulan ini.
*   `X-RateLimit-Reset`: Timestamp (dalam detik) kapan batas bulanan Anda diatur ulang.

Selain itu, metadata penggunaan terperinci disertakan dalam respons JSON:

```json
{
  "_metadata": {
    "usage": {
      "daily": {
        "current": 3500,
        "limit": 3000,
        "remaining": 0 // 0 menunjukkan penggunaan Pay-As-You-Go atau Batas Terlampaui
      },
      "monthly": {
        "current": 10500,
        "limit": 10000,
        "remaining": 0
      }
    },
    "tier": {
      "name": "Free",
      "upstash_enabled": true
    }
  }
}
```

## Kode Kesalahan

### 429 Too Many Requests
Terjadi ketika Anda mencapai batas ketat seperti RPM/TPM, atau jika Anda mencapai batas Kuota **DAN** tidak memiliki Saldo untuk cadangan.

```json
{
  "error": {
    "message": "Daily token limit for your account has been exceeded.",
    "type": "usage_limit_exceeded",
    "code": "daily_quota_exceeded"
  }
}
```

### 402 Payment Required
Terjadi ketika Anda berada dalam mode **Pay-As-You-Go** tetapi tidak memiliki dana yang cukup untuk memproses permintaan.

```json
{
  "error": {
    "message": "Insufficient balance. Your request is estimated to cost ~Rp 150 but you only have Rp 50.",
    "type": "insufficient_balance",
    "code": "payment_required"
  }
}
```