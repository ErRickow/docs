---
title: "Output Terstruktur"
description: "Dapatkan respons terstruktur yang andal dari model AI dalam format JSON yang bersih menggunakan Mode JSON atau API Responses."
---

### Pendahuluan

Secara default, model bahasa menghasilkan teks biasa. Meskipun bagus untuk chatbot, sulit untuk mengekstrak detail spesifik dari teks secara programatik. Neosantara menyediakan dua cara untuk mendapatkan data terstruktur:

1.  **API Responses (Direkomendasikan)**: Endpoint khusus untuk ekstraksi data yang andal dan berbasis skema.
2.  **Mode JSON**: Fitur kompatibilitas standar yang memaksa model untuk mengeluarkan string JSON yang valid.

### API Responses (Direkomendasikan)

API Responses adalah cara paling andal untuk mendapatkan data terstruktur. API ini menangani pembuatan prompt dan penegakan skema secara internal, mengembalikan objek yang bersih.

<Card title="Pelajari tentang API Responses" icon="bolt" href="/id/response">
  Lihat cara menggunakan endpoint Responses berkinerja tinggi untuk data terstruktur.
</Card>

---

### Mode JSON

Mode JSON adalah fitur standar yang didukung oleh sebagian besar model di platform ini. Untuk mengaktifkannya, Kamu perlu menyetel `response_format` ke `{"type": "json_object"}`.

#### Model yang Didukung

Model-model yang terdaftar secara publik berikut secara eksplisit mendukung Mode JSON. Untuk daftar lengkap dan terbaru dari semua model yang tersedia, lihat [Ikhtisar Model](/id/models-overview).

| Kategori | ID Model |
| :--- | :--- |
| **LLM Global** | `claude-4.5-sonnet`, `gemini-3-flash`, `gemini-3-flash-preview`, `claude-3-sonnet`, `claude-3-haiku`, `gemma-3-27b-it`, `gemma2-9b-it` |
| **Unggulan Neosantara** | `archipelago-70b`, `nusantara-base`, `garda-beta-mini`, `sea-lion-v4-27b-it` |
| **Llama & Khusus** | `llama-3.3-70b-turbo`, `llama-3.3-70b-instruct`, `llama-3.2-11b`, `qwen3-32b`, `grok-4.1-fast-non-reasoning`, `grok-code-fast`, `granite-3-8b-instruct`, `holo2-30b`, `hermes-2-pro-mistral-7b` |

#### Menangani dan Mengurai Respons

Model mungkin membungkus JSON dalam blok markdown atau mengembalikan string yang dipadatkan. Praktik terbaik adalah menggunakan fungsi penguraian yang kuat.

<Info>
  Saat menggunakan Mode JSON, Kamu **harus** menginstruksikan model untuk merespons dalam format JSON. Ini dapat dilakukan dalam prompt sistem atau langsung dalam pesan pengguna.
</Info>

<CodeGroup>

```python Python (Grok)
import json
from openai import OpenAI

client = OpenAI(
    base_url="https://api.neosantara.xyz/v1",
    api_key="KUNCI_API_NEOSANTARA_KAMU"
)

# Grok sangat andal untuk ekstraksi JSON tanpa prompt sistem
response = client.chat.completions.create(
    model="grok-4.1-fast-non-reasoning",
    messages=[
        {"role": "user", "content": "Ekstrak bahan resep sebagai JSON: nasi, telur, kecap. Gunakan 'bahan' sebagai kunci."}
    ],
    response_format={"type": "json_object"}
)

data = json.loads(response.choices[0].message.content)
print(data)
```

```javascript Node.js (Gemini)
import OpenAI from 'openai';

const client = new OpenAI({
  apiKey: "KUNCI_API_NEOSANTARA_KAMU",
  baseURL: "https://api.neosantara.xyz/v1",
});

const response = await client.chat.completions.create({
  model: "gemini-3-flash",
  messages: [
    { role: "system", content: "Berikan respons HANYA dalam format JSON." },
    { role: "user", content: "Sebutkan warna bendera Indonesia." }
  ],
  response_format: { type: "json_object" }
});

const data = JSON.parse(response.choices[0].message.content);
console.log(data);
```

</CodeGroup>

### Praktik Terbaik

*   **Jadilah Spesifik**: Sebutkan secara eksplisit kunci yang kamu inginkan dalam objek JSON kamu.
*   **Pemilihan Model**: Gunakan `claude-4.5-sonnet` atau `qwen3-32b` untuk skema bersarang yang kompleks.
*   **Penanganan Error**: Selalu bungkus penguraian JSON kamu dalam blok try-catch untuk menangani potensi halusinasi model.

---

## Implementasi Lengkap

Untuk contoh kode lengkap, definisi skema, dan pola penguraian, silakan merujuk ke:

<CardGroup cols={3}>
  <Card title="Responses API" icon="bolt" href="/id/sdk/responses-api/index">
    Direkomendasikan untuk penegakan skema yang ketat dan otomatis.
  </Card>
  <Card title="OpenAI Compatible" icon="openai" href="/id/sdk/openai-compat/structured-outputs">
    Mode JSON standar dan dukungan skema menggunakan SDK OpenAI.
  </Card>
  <Card title="Anthropic Compatible" icon="bolt" href="/id/sdk/anthropic-compat/tool-calls">
    Ekstraksi data terstruktur melalui definisi tool dalam format Anthropic.
  </Card>
</CardGroup>

---

## Dibalik Layar

Neosantara menggunakan beberapa strategi untuk memastikan data terstruktur kamu dapat diurai dengan akurat.

### Injeksi Instruksi (Instruction Injection)
Untuk model yang tidak mendukung mode JSON secara native, **Standardizer** Neosantara secara otomatis menambahkan instruksi tingkat sistem (misal: *"Berikan respons HANYA dalam objek JSON yang valid"*) di akhir prompt kamu. Hal ini secara signifikan meningkatkan konsistensi pada model sumber terbuka yang lebih lama atau lebih kecil.

### Pembersihan Markdown (Markdown Stripping)
Model bahasa sering kali membungkus JSON dalam blok kode markdown (misal: \` \` \`json ... \` \` \`). Backend Neosantara menyertakan **Extraction Filter** yang secara otomatis mendeteksi dan menghapus simbol backtick ini sebelum mengembalikan string ke aplikasi kamu, mencegah error `JSON.parse` yang umum terjadi.

### Penegakan Skema (Schema Enforcement)
Meskipun **Mode JSON** adalah "batasan lunak" (model mencoba yang terbaik), **API Responses** menggunakan logika validasi skema internal. Fitur ini melakukan pengecekan silang antara output model dengan JSON Schema yang kamu berikan dan bahkan dapat memberikan prompt ulang ke model jika percobaan pertama gagal dalam validasi (tergantung pada logika retry penyedia internal).