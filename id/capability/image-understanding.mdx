---
title: "Image Understanding"
description: "Analisis, deskripsikan, dan ekstrak informasi dari gambar menggunakan model AI multimodal."
---

import { ModelCards } from '/snippets/model-cards.jsx';

Neosantara API mendukung kemampuan multimodal, yang memungkinkan kamu mengirimkan gambar bersama dengan prompt teks ke berbagai model AI. Fitur ini memungkinkan kamu untuk mendeskripsikan suasana, mengidentifikasi objek, membaca grafik, atau mengekstrak teks tulisan tangan.

## Model yang Mendukung

<ModelCards capability="vision" />

## Cara Penggunaan

Untuk menggunakan kemampuan vision, kamu memberikan array `content` pada pesan user, yang mencakup bagian dengan tipe `image_url`.

### Menggunakan URL Gambar

Kamu bisa memberikan tautan gambar yang dapat diakses secara publik.

<CodeGroup>

```python OpenAI (Python)
from openai import OpenAI

client = OpenAI(
    api_key="YOUR_NSK_KEY",
    base_url="https://api.neosantara.xyz/v1"
)

response = client.chat.completions.create(
    model="claude-4.5-sonnet",
    messages=[
        {
            "role": "user",
            "content": [
                {"type": "text", "text": "Apa isi dari gambar ini?"},
                {
                    "type": "image_url",
                    "image_url": {
                        "url": "https://science.nasa.gov/wp-content/uploads/2023/09/web-first-images-release.png",
                    },
                },
            ],
        }
    ],
)

print(response.choices[0].message.content)
```

```javascript OpenAI (Node.js)
import OpenAI from "openai";

const openai = new OpenAI({
  apiKey: "YOUR_NSK_KEY",
  baseURL: "https://api.neosantara.xyz/v1"
});

const response = await openai.chat.completions.create({
  model: "claude-4.5-sonnet",
  messages: [
    {
      role: "user",
      content: [
        { type: "text", text: "Apa isi dari gambar ini?" },
        {
          type: "image_url",
          image_url: {
            url: "https://science.nasa.gov/wp-content/uploads/2023/09/web-first-images-release.png",
          },
        },
      ],
    },
  ],
});

console.log(response.choices[0].message.content);
```

</CodeGroup>

### Menggunakan Gambar Berformat Base64

Untuk gambar lokal, kamu bisa mengubahnya ke format Base64 dan mengirimkannya menggunakan skema URL `data:`.

<CodeGroup>

```python Python
import base64
from openai import OpenAI

def encode_image(image_path):
    with open(image_path, "rb") as image_file:
        return base64.b64encode(image_file.read()).decode('utf-8')

base64_image = encode_image("jalur/ke/gambar/kamu.jpg")

client = OpenAI(api_key="YOUR_NSK_KEY", base_url="https://api.neosantara.xyz/v1")

response = client.chat.completions.create(
    model="claude-4.5-sonnet",
    messages=[
        {
            "role": "user",
            "content": [
                {"type": "text", "text": "Deskripsikan gambar lokal ini."},
                {
                    "type": "image_url",
                    "image_url": {
                        "url": f"data:image/jpeg;base64,{base64_image}"
                    }
                }
            ]
        }
    ]
)
```

```bash cURL
curl https://api.neosantara.xyz/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_NSK_KEY" \
  -d '{
    "model": "claude-4.5-sonnet",
    "messages": [
      {
        "role": "user",
        "content": [
          { "type": "text", "text": "Ini apa ya?" },
          { "type": "image_url", "image_url": { "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==" } }
        ]
      }
    ]
  }'
```

</CodeGroup>

## Format Gambar yang Didukung

Neosantara API mendukung format gambar berikut:
*   **JPEG** (`image/jpeg`)
*   **PNG** (`image/png`)
*   **WebP** (`image/webp`)
*   **GIF** (`image/gif`) - Catatan: Beberapa model mungkin hanya menganalisis frame pertama.

---

## Jembatan Teknis

Neosantara bertindak sebagai jembatan multimodal terpadu, menormalkan permintaan visi yang kompleks di berbagai protokol penyedia layanan.

### Logika Normalisasi
Saat kamu mengirim pesan multimodal, **Multimodal Adapter** Neosantara secara otomatis mengubah permintaan kamu agar sesuai dengan persyaratan khusus dari target provider:
*   **Anthropic (Claude)**: Gambar diubah menjadi blok base64 `document` atau `image`.
*   **Google (Gemini)**: Gambar diproses sebagai bagian `inline_data`.
*   **Kompatibel OpenAI**: Format `image_url` standar tetap dipertahankan atau diteruskan melalui proxy.

### Keamanan & Validasi SSRF
Untuk melindungi infrastruktur dan data pengguna, semua permintaan `image_url` eksternal melalui **Security Handshake**:
1.  **Resolusi DNS**: Nama host target diubah menjadi alamat IP.
2.  **Pemeriksaan Rentang**: Rentang IP pribadi (misal: `10.x.x.x`, `192.168.x.x`) dan alamat *loopback* diblokir secara ketat.
3.  **Verifikasi MIME**: Neosantara melakukan permintaan `HEAD` awal untuk memverifikasi `Content-Type` sebelum mengizinkan model mengakses sumber daya tersebut.

### Privasi & Presistensi
*   **Pemrosesan Ephemeral**: Gambar yang dikirim melalui `image_url` atau base64 diproses dalam memori dan **tidak pernah disimpan** ke penyimpanan permanen Neosantara.
*   **Penyimpanan Permanen**: Jika kamu ingin gambar tetap ada di beberapa sesi (misal: untuk Batch API), gunakan [Files API](/id/sdk/openai-compat/rest-api) untuk mengunggah dan mendapatkan `file_id`.

---

## Implementasi Lengkap

Untuk contoh kode lengkap dan struktur blok konten spesifik di berbagai SDK, silakan merujuk ke:

<CardGroup cols={3}>
  <Card title="Responses API" icon="bolt" href="/id/sdk/responses-api/image-input">
    Menggunakan tipe part `image` di API modern yang stateful.
  </Card>
  <Card title="OpenAI Compatible" icon="openai" href="/id/sdk/openai-compat/chat-completions#lampiran-gambar">
    Implementasi standar `image_url` untuk SDK OpenAI.
  </Card>
  <Card title="Anthropic Compatible" icon="bolt" href="/id/sdk/anthropic-compat/file-attachments">
    Menggunakan format blok gambar base64 native dari Anthropic.
  </Card>
</CardGroup>

---

## Praktik Terbaik

1.  **Ukuran Gambar**: Untuk hasil terbaik, gunakan gambar dengan ukuran di bawah 5MB. Gambar besar mungkin akan diubah ukurannya secara otomatis oleh penyedia layanan.
2.  **Tingkat Detail**: Meskipun beberapa model mendukung parameter `detail` (`low`, `high`, `auto`), sebagian besar model mengoptimalkan ini secara otomatis.
3.  **Beberapa Gambar Sekaligus**: Sebagian besar model multimodal mendukung pengiriman beberapa gambar dalam satu permintaan untuk perbandingan atau analisis berurutan.
