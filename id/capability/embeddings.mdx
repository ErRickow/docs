---
title: "Embedding"
description: "> Ubah teks menjadi vektor numerik berdimensi tinggi untuk berbagai tugas AI."
---

Embedding adalah representasi numerik dari teks yang menangkap makna semantik. Mereka mengubah teks yang dapat dibaca manusia menjadi vektor berdimensi tinggi yang dapat dipahami dan diproses oleh model pembelajaran mesin. Vektor-vektor ini memungkinkan tugas-tugas seperti pencarian semantik, sistem rekomendasi, pengelompokan (*clustering*), dan deteksi anomali.

## Cara Kerja Embedding

Saat Kamu mengirimkan teks ke endpoint embedding, model AI yang mendasarinya memproses teks tersebut dan mengeluarkan daftar angka titik mengambang (*floating-point*) atau sebuah vektor. Teks dengan makna yang serupa akan memiliki vektor yang secara numerik "lebih dekat" satu sama lain dalam ruang berdimensi tinggi.

API Neosantara menyediakan endpoint `/v1/embeddings` untuk menghasilkan vektor-vektor ini.

## Penggunaan

Untuk menghasilkan embedding, kirim permintaan POST ke endpoint `/v1/embeddings` dengan input teks Kamu.

### Endpoint

`POST /v1/embeddings`

### Body Permintaan

```json icon="code"
{
  "input": "The quick brown fox jumps over the lazy dog.",
  "model": "nusa-embedding-0001",
  "encoding_format": "float"
}
```

#### Parameter

* **`input`** (string atau array string, **wajib**): Teks yang akan disematkan. Bisa berupa string tunggal atau array string.
* **`model`** (string, opsional, default: `"nusa-embedding-0001"`): ID model embedding yang akan digunakan.
* **`encoding_format`** (string, opsional, default: `"float"`): Format embedding yang dikembalikan. Saat ini, `"float"` adalah format utama yang didukung.

### Model Embedding yang Didukung

API Neosantara mendukung berbagai model embedding, sering kali menggunakan fallback cerdas untuk memastikan keandalan. Beberapa model yang tersedia meliputi:

* **`nusa-embedding-0001`**: Model embedding utama, menawarkan performa yang baik untuk embedding tujuan umum.

### Contoh Respons

```json icon="code"
{
  "object": "list",
  "data": [
    {
      "object": "embedding",
      "embedding": [
        0.00539745,
        -0.007137805,
        0.02102179,
        -0.003181825,
        // ... (dipotong untuk ringkasan)
        -0.010260487
      ],
      "index": 0
    }
  ],
  "model": "nusa-embedding-0001",
  "usage": {
    "prompt_tokens": 9,
    "total_tokens": 9
  }
}
```

## Contoh Python dan JavaScript (dengan SDK OpenAI)

Kamu dapat menghasilkan embedding menggunakan SDK OpenAI dengan mengonfigurasi `base_url` agar mengarah ke API Neosantara.

<CodeGroup>

```python Python
import os
from openai import OpenAI

# Inisialisasi klien OpenAI dengan kunci API Kamu
# Ganti variabel lingkungan dengan kunci API Neosantara Kamu jika diperlukan
client = OpenAI(
    api_key=os.environ.get("NAI_API_KEY"),
    base_url="https://api.neosantara.xyz/v1",
)

def get_embeddings(texts: list[str], model: str = "nusa-embedding-0001"):
    """
    Menghasilkan embedding untuk daftar teks menggunakan API Neosantara.
    """
    print(f"Menghasilkan embedding untuk model: {model}")

    try:
        response = client.embeddings.create(
            model=model,
            input=texts,
            encoding_format="float"
        )

        # response.data berisi daftar objek embedding
        # Setiap objek memiliki 'embedding' (vektor) dan 'index'
        embeddings = [item.embedding for item in response.data]

        print(f"Dihasilkan {len(embeddings)} embedding. Dimensi: {len(embeddings[0]) if embeddings else 0}")
        print(f"Total token yang digunakan: {response.usage.total_tokens}")

        return embeddings

    except Exception as e:
        print(f"Terjadi kesalahan selama pembuatan embedding: {e}")
        return None

if __name__ == "__main__":
    example_texts = [
        "Kecerdasan buatan mengubah industri.",
        "Pembelajaran mesin adalah bagian dari AI.",
        "Pembelajaran mendalam memungkinkan jaringan saraf."
    ]

    generated_vectors = get_embeddings(example_texts)

    if generated_vectors:
        print("\nVektor embedding pertama (dipotong):")
        print(generated_vectors[0][:10], "...") # Cetak 10 elemen pertama

```

```javascript Node.js
// Instal pustaka Node.js OpenAI: npm install openai
import OpenAI from 'openai';

// Inisialisasi klien OpenAI dengan kunci API Kamu
// Ganti "KUNCI_API_NEOSANTARA_KAMU" dengan Kunci API Neosantara Kamu yang sebenarnya
const client = new OpenAI({
  apiKey: "KUNCI_API_NEOSANTARA_KAMU",
  baseURL: "https://api.neosantara.xyz/v1",
});

async function getEmbeddings(texts, model = "nusa-embedding-0001") {
  console.log(`Menghasilkan embedding untuk model: ${model}`);

  try {
    const response = await client.embeddings.create({
      model: model,
      input: texts,
      encoding_format: "float",
    });

    // response.data berisi daftar objek embedding
    // Setiap objek memiliki 'embedding' (vektor) dan 'index'
    const embeddings = response.data.map(item => item.embedding);

    console.log(`Dihasilkan ${embeddings.length} embedding. Dimensi: ${embeddings[0] ? embeddings[0].length : 0}`);
    console.log(`Total token yang digunakan: ${response.usage.total_tokens}`);

    return embeddings;

  } catch (error) {
    console.error(`Terjadi kesalahan selama pembuatan embedding: ${error.message}`);
    return null;
  }
}

// Contoh penggunaan
(async () => {
  const exampleTexts = [
    "Kecerdasan buatan mengubah industri.",
    "Pembelajaran mesin adalah bagian dari AI.",
    "Pembelajaran mendalam memungkinkan jaringan saraf."
  ];
  
  const generatedVectors = await getEmbeddings(exampleTexts);

  if (generatedVectors) {
    console.log("\nVektor embedding pertama (dipotong):");
    console.log(generatedVectors[0].slice(0, 10), "..."); // Cetak 10 elemen pertama
  }
})();
```

</CodeGroup>