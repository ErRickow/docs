---
title: "File Attachments"
description: "Send images and PDF documents as part of your message request using the Anthropic format."
---

# File Attachments

Neosantara AI supports sending images and PDF documents as part of your message request through the Anthropic-compatible API. This allows you to build multimodal applications that can "see" images and "read" documents.

### [Example request](#example-request)

Point the Anthropic SDK to Neosantara AI and provide your files as base64-encoded strings.

<CodeGroup>

```typescript file-attachment.ts
import Anthropic from '@anthropic-ai/sdk';
import fs from 'node:fs';
 
const anthropic = new Anthropic({
  apiKey: process.env.NAI_API_KEY,
  baseURL: 'https://api.neosantara.xyz/anthropic',
});
 
// Read files as base64
const pdfData = fs.readFileSync('./document.pdf');
const imageData = fs.readFileSync('./image.png');
 
const pdfBase64 = pdfData.toString('base64');
const imageBase64 = imageData.toString('base64');
 
const message = await anthropic.messages.create({
  model: 'claude-3-5-sonnet', // Ensure model supports multimodal input
  max_tokens: 1024,
  messages: [
    {
      role: 'user',
      content: [
        {
          type: 'document',
          source: {
            type: 'base64',
            media_type: 'application/pdf',
            data: pdfBase64,
          },
        },
        {
          type: 'image',
          source: {
            type: 'base64',
            media_type: 'image/png',
            data: imageBase64,
          },
        },
        {
          type: 'text',
          text: 'Please summarize the PDF and describe the image.',
        },
      ],
    },
  ],
});
 
console.log('Response:', message.content[0].text);
```

```python file-attachment.py
import os
import base64
import anthropic
 
client = anthropic.Anthropic(
    api_key=os.getenv('NAI_API_KEY'),
    base_url='https://api.neosantara.xyz/anthropic'
)
 
# Read files as base64
with open('./document.pdf', 'rb') as f:
    pdf_base64 = base64.b64encode(f.read()).decode('utf-8')
 
with open('./image.png', 'rb') as f:
    image_base64 = base64.b64encode(f.read()).decode('utf-8')
 
message = client.messages.create(
    model='claude-3-5-sonnet',
    max_tokens=1024,
    messages=[
        {
            'role': 'user',
            'content': [
                {
                    'type': 'document',
                    'source': {
                        'type': 'base64',
                        'media_type': 'application/pdf',
                        'data': pdf_base64,
                    },
                },
                {
                    'type': 'image',
                    'source': {
                        'type': 'base64',
                        'media_type': 'image/png',
                        'data': image_base64,
                    },
                },
                {
                    'type': 'text',
                    'text': 'Please summarize the PDF and describe the image.',
                },
            ],
        }
    ],
)
 
print('Response:', message.content[0].text)
```

</CodeGroup>

---

### [Supported file types](#supported-file-types)

*   **Images**: `image/jpeg`, `image/png`, `image/gif`, `image/webp`
*   **Documents**: `application/pdf`

<Info>
  **Model Compatibility**: Ensure you are using a multimodal model (like `claude-3-5-sonnet`, `archipelago-70b`, or `kimi-k2`) when sending file attachments.
</Info>
