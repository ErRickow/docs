---
title: "Tool Calling"
description: "Give models access to external functions using the Responses API."
---

# Tool Calling

The [Responses API](/en/sdk/responses-api) supports native tool calling, allowing models to interact with external systems and functions. You define your tools using JSON schema, and the model returns structured data when it determines a tool is needed.

### [Example Request](#example-request)

Define your tools in the `tools` array and set the `tool_choice` behavior.

<CodeGroup>

```typescript tool-calls.ts
const apiKey = process.env.NAI_API_KEY;
 
const response = await fetch('https://api.neosantara.xyz/v1/responses', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    Authorization: `Bearer ${apiKey}`,
  },
  body: JSON.stringify({
    model: 'grok-4.1-fast-non-reasoning',
    input: [
      {
        type: 'message',
        role: 'user',
        content: 'What is the weather like in Jakarta?',
      },
    ],
    tools: [
      {
        type: 'function',
        function: {
          name: 'get_weather',
          description: 'Get the current weather in a location',
          parameters: {
            type: 'object',
            properties: {
              location: {
                type: 'string',
                description: 'The city name, e.g. Jakarta, Indonesia',
              },
            },
            required: ['location'],
          },
        },
      },
    ],
    tool_choice: 'auto',
  }),
});
 
const result = await response.json();
```

</CodeGroup>

---

## [Tool Call Response](#tool-call-response)

When the model decides to use a tool, the response includes a `function_call` item in the `output` array.

```json
{
  "id": "resp_abc123",
  "object": "response",
  "output": [
    {
      "id": "item_abc123",
      "type": "function_call",
      "name": "get_weather",
      "arguments": "{\"location\": \"Jakarta\"}",
      "call_id": "call_abc123"
    }
  ]
}
```

### [Executing the Tool](#executing-the-tool)

After receiving a `function_call`, your application should:
1.  Parse the `arguments` (JSON string).
2.  Execute the corresponding function in your codebase.
3.  Submit the results back using the [Conversation Management](/en/conversation-management) flow.

---

## [Tool Choice Options](#tool-choice-options)

You can control how the model interacts with tools using the `tool_choice` parameter:

*   **`auto`** (default): The model decides whether to call a tool based on the conversation context.
*   **`required`**: The model is forced to call at least one tool.
*   **`none`**: The model is prevented from calling any tools, even if they are defined.

<Note>
  For detailed guidance on handling tool results and chaining calls, see our [Full Tool Use Guide](/en/how-tools).
</Note>

```