---
title: 'Files API Overview'
description: 'Upload, manage, and organize files for batch processing, assistants, and fine-tuning'
---

## Introduction

The Files API allows you to upload and manage files that can be used with various features like batch processing, assistants, and model fine-tuning. Files are stored securely and can be accessed through a simple REST API.

### Key Features

- **Multiple Purposes**: Support for batch processing, assistants, and fine-tuning workflows
- **JSONL Validation**: Automatic validation for batch processing files
- **Secure Storage**: Files are stored with encryption and access control
- **File Lifecycle**: Automatic expiration and cleanup of old files
- **Size Limits**: Support for files up to 100MB

### Supported File Purposes

<CardGroup cols={3}>
  <Card title="Batch Processing" icon="layer-group">
    Upload JSONL files containing multiple API requests for cost-effective batch processing
  </Card>
  <Card title="Assistants" icon="robot">
    Provide knowledge base files and documents for AI assistants
  </Card>
  <Card title="Fine-tuning" icon="wand-magic-sparkles">
    Upload training data to fine-tune models for specific use cases
  </Card>
</CardGroup>

## API Endpoints

<CardGroup cols={2}>
  <Card
    title="Upload File"
    icon="upload"
    href="/api-reference/files/upload"
    color="#10b981"
  >
    Upload a new file with specified purpose and automatic validation
  </Card>
  
  <Card
    title="Get File"
    icon="file"
    href="/api-reference/files/get"
    color="#3b82f6"
  >
    Retrieve metadata information about a specific file
  </Card>
  
  <Card
    title="Download File Content"
    icon="download"
    href="/api-reference/files/download"
    color="#8b5cf6"
  >
    Download the actual content of an uploaded file
  </Card>
  
  <Card
    title="Delete File"
    icon="trash"
    href="/api-reference/files/delete"
    color="#ef4444"
  >
    Permanently delete a file from storage
  </Card>
  
  <Card
    title="List Files"
    icon="list"
    href="/api-reference/files/list"
    color="#f59e0b"
  >
    Get a list of all your uploaded files with filtering options
  </Card>
</CardGroup>

## Quick Start

### 1. Upload a File

```bash
curl https://api.neosantara.xyz/v1/files \
  -H "Authorization: Bearer YOUR_NEOSANTARA_API_KEY" \
  -F purpose="batch" \
  -F file="@batch_requests.jsonl"
```

### 2. List Your Files

```bash
curl https://api.neosantara.xyz/v1/files \
  -H "Authorization: Bearer YOUR_NEOSANTARA_API_KEY"
```

### 3. Download File Content

```bash
curl https://api.neosantara.xyz/v1/files/file-abc123/content \
  -H "Authorization: Bearer YOUR_NEOSANTARA_API_KEY" \
  --output downloaded_file.jsonl
```

## File Requirements

### General Requirements

- Maximum file size: **100MB**
- Files are retained for **24 hours** by default
- Each file must have a specified purpose

### JSONL Format for Batch Processing

When uploading files with `purpose="batch"`, ensure your JSONL file follows this format:

```json example.jsonl
{"custom_id": "request-1", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "garda-beta-mini", "messages": [{"role": "user", "content": "Hello!"}]}}
{"custom_id": "request-2", "method": "POST", "url": "/v1/chat/completions", "body": {"model": "garda-beta-mini", "messages": [{"role": "user", "content": "How are you?"}]}}
```

Each line must be a valid JSON object with:

- `custom_id`: Unique identifier for the request
- `method`: HTTP method (typically "POST")
- `url`: API endpoint path
- `body`: Request payload

<Note>
Files uploaded for batch processing must be in valid JSONL format. Each line should be a complete JSON object.
</Note>

## Best Practices

<AccordionGroup>
  <Accordion title="Organize Files with Metadata" icon="folder-tree">
    Although the Files API doesn't directly support custom metadata, use descriptive filenames to organize your files effectively. Consider prefixing files with project names or dates.
  </Accordion>
  
  <Accordion title="Monitor File Expiration" icon="clock">
    Files expire after 24 hours. Download important results before expiration or implement automated backup processes.
  </Accordion>
  
  <Accordion title="Validate Before Upload" icon="check-circle">
    For batch processing files, validate your JSONL format locally before uploading to avoid validation errors.
  </Accordion>
  
  <Accordion title="Clean Up Old Files" icon="broom">
    Regularly delete files you no longer need to keep your account organized and avoid hitting storage limits.
  </Accordion>
</AccordionGroup>

## Error Handling

Common errors you might encounter:

| Error Code | Description | Solution |
| ------------ | ------------- | ---------- |
| `missing_file` | File parameter not provided | Ensure you're sending the file in the request |
| `invalid_purpose` | Invalid purpose value | Use one of: `batch`, `assistants`, or `fine-tune` |
| `file_too_large` | File exceeds 100MB limit | Split large files or compress content |
| `invalid_file_format` | JSONL validation failed | Check your JSONL format for syntax errors |
| `file_not_found` | File doesn't exist | Verify the file_id is correct |
| `file_expired` | File has expired | Re-upload the file if needed |
